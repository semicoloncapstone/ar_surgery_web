<header class="w3-container w3-center" style="padding-top:22px; padding-bottom:22px">
    <h1><b><i class="fa fa-comments"></i> Class Messages</b></h1>
</header>

<div class="w3-bar w3-black">
    <a class="w3-bar-item w3-button w3-mobile {{PM}}" style="width:50%" {{action "personalMsgs"}} >
        <i class="fa fa-user"></i>
        Personal Messages
    </a>
    <a class="w3-bar-item w3-button w3-mobile {{MB}}" style="width:50%" {{action "boardMsgs"}} >
        <i class="fa fa-users"></i>
        Message Boards
    </a>
</div>
<br>

{{#if isPersonalMsgs}}
    <div class="w3-row-padding w3-margin-bottom">
        <div class="w3-third w3-round-large">
            <div class="w3-container w3-padding-16">
                <button class="w3-button w3-round-large w3-black"><i class="fas fa-pencil-alt"></i>  Edit</button>
                <button class="w3-button w3-round-large w3-black w3-right" {{action 'openNewMessage'}}><i class="fas fa-plus"></i>  New</button>
                <br><br>
                <button class="w3-button w3-block w3-round-large {{RM}}" {{action 'recievedMsgs'}}>Recieved Messages</button>
                <button class="w3-button w3-block w3-round-large {{SM}}" {{action 'sentMsgs'}}>Sent Messages</button>
                <br>
            </div>
            <br>
            
        </div>
        <div class="w3-twothird">
            <div class="w3-container w3-padding-16">
                {{#each Messages as |mess index|}}
                    <div class="container">
                        <p><strong>{{mess.sender}} index: {{index}}</strong></p>
                        <p><strong>Subject: </strong>{{mess.header}}</p>
                        <p>{{mess.body}}</p>
                        <p class="w3-right">{{mess.date}}</p>
                    </div>
                {{/each}}
            </div>
        </div>
    </div>
{{/if}}

{{#if isMsgsBoard}}
    <div class="w3-row-padding w3-margin-bottom">
        <div class="w3-third w3-round-large">
            <div class="w3-container w3-padding-16">
                <button class="w3-button w3-block w3-round-large" {{action 'recievedMsgs'}}>Message Board Title</button> 
            </div>
            <br>
        </div>
    <div class="w3-twothird">
        <div class="w3-container w3-padding-16">
            {{#each personalMessages as |mess index|}}
                <div class="container">
                    <p><strong>From: {{mess.sender.firstName}} {{mess.sender.lastName}}</strong></p>
                    <p><strong>Subject: </strong>{{mess.header}}</p>
                    <p>{{mess.body}}</p>
                    <p class="w3-right">{{mess.date}}</p>
                </div>
            {{/each}}
        </div>
    </div>
{{/if}}

{{#if isMakingNew}}
    <div class="ui modal auth">
      <div class="header">Send New Message</div>
      <div class="content">
        <div class="ui form">
          <div class="inline field">
            <label>Select Message Reciever</label>
            <select class="ui dropdown" name="studentList" onchange={{action "selectReciever" value="target.value"}}>
                <option hidden>Select Reciever</option>
                {{#each allUsers as |user index|}}
                    <option value={{user.id}}>{{user.firstName}} {{user.lastName}}</option>
                {{/each}}
            </select>
          </div>
          <div class="inline field">
            <label>Subject</label>
            {{input value=header type="text" placeholder="Enter Subject"}}
          </div>
          <div class="inline field">
            <label>Message</label>
            {{textarea type="text" rows="4" value=body}}
          </div>
        </div>
      </div>
      <div class="actions">
        <button class="w3-button w3-green w3-round-large" {{action "sendMessage"}}>
          Send
        </button>
        <button class="w3-button w3-red w3-round-large" {{action "cancelSend"}}>
          Cancel
        </button>
      </div>
    </div>
{{/if}}